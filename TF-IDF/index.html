<DOCTYPE html>
<html><meta charset="utf-8"><body>
<h1>テキストのジャンル判定</h1>
<div>
  <textarea id="q" rows="10" cols="60"></textarea>
  <br><button id="qButton">判定</button>
  <div id="result"></div>
</div>
<script>
  window.onload = function(){
    const qs = (q) => document.querySelector(q)
    const q = qs('#q')
    const button = qs('#qButton')
    const result = qs('#result')
    button.onclick = function() {
      result.innerText = '...'
      const api = '/api?q='+encodeURIComponent(q.value)
      fetch(api).then((res)=>{
        return res.json()
      }).then((data)=>{
        result.innerText=data['LABELS']+"("+data['predict']+")"
      })
    };

  }
</script>

<style>
#result { padding: 10px; font-size: 2em; color: red; }
#q { background-color: #fffff0; }
</style>
</body></html>
